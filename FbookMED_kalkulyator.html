
<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8">
  <title>FbookMED kalkulyator</title>
  <style>
    body {
      font-family: sans-serif;
      display: flex;
      min-height: 100vh;
      margin: 0;
    }
    .sidebar {
      background-color: #1e88e5;
      color: white;
      width: 200px;
      padding: 20px;
    }
    .sidebar h2 {
      font-size: 22px;
      margin-bottom: 30px;
    }
    .sidebar button {
      display: block;
      width: 100%;
      margin-bottom: 15px;
      padding: 10px;
      font-size: 16px;
      background: white;
      color: #1e88e5;
      border: none;
      font-weight: bold;
      cursor: pointer;
      border-radius: 5px;
    }
    .main {
      flex: 1;
      padding: 20px;
    }
    label, select, input {
      display: block;
      margin-top: 10px;
      width: 100%;
      padding: 8px;
    }
    button.action {
      margin-top: 15px;
      padding: 10px;
      font-weight: bold;
      width: 49%;
      display: inline-block;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    #natija {
      margin-top: 20px;
      font-size: 18px;
      font-weight: bold;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    table th, table td {
      border: 1px solid #aaa;
      padding: 8px;
      text-align: center;
    }
    #kalkulyatorBoâ€˜limi, #excelBoâ€˜limi {
      display: none;
    }
  </style>
</head>
<body>
  <div class="sidebar">
    <h2>FbookMED</h2>
    <button onclick="toggleBolim('kalkulyator')">ðŸ“˜ Kalkulyator</button>
    <button onclick="toggleBolim('excel')">ðŸ“Š Excel</button>
  </div>

  <div class="main">
    <div id="kalkulyatorBoâ€˜limi">
      <h2>Kitob narxi kalkulyatori</h2>
      <label for="tarif">Tarif:</label>
      <select id="tarif" onchange="korsatmaChiqar()">
        <option value="" disabled selected>Tanlang</option>
        <option>Standart</option>
        <option>Optom</option>
        <option>Maxsus</option>
      </select>
      <div id="izoh" style="font-style: italic; color: gray;"></div>
      <label for="format">Format:</label>
      <select id="format">
        <option value="" disabled selected>Tanlang</option>
        <option>A4</option>
        <option>A5</option>
        <option>B5</option>
      </select>
      <label for="muqova">Muqova:</label>
      <select id="muqova">
        <option value="" disabled selected>Tanlang</option>
        <option>Qattiq muqovali</option>
        <option>Yumshoq muqovali</option>
        <option>Oddiy muqovali</option>
        <option>Muqovasiz</option>
      </select>
      <label for="rang">Rang:</label>
      <select id="rang">
        <option value="" disabled selected>Tanlang</option>
        <option>Oq qora</option>
        <option>Rangli</option>
      </select>
      <label for="sahifa">Sahifa soni:</label>
      <input type="number" id="sahifa" placeholder="Sahifa soni">
      <button class="action" onclick="hisoblaNarx()">Hisoblash</button>
      <button class="action" onclick="excelgaQoshish()">Excelga qoâ€˜shish</button>
      <div id="natija"></div>
    </div>

    <div id="excelBoâ€˜limi">
      <h2>Excel boâ€˜limi</h2>
      <table>
        <thead>
          <tr>
            <th>â„–</th>
            <th>Kitob nomi</th>
            <th>Soni</th>
            <th>Sahifa soni</th>
            <th>Tarif</th>
            <th>Format</th>
            <th>Muqova</th>
            <th>Rang</th>
            <th>Narx</th>
          </tr>
        </thead>
        <tbody id="excelJadval">
        </tbody>
      </table>
    </div>
  </div>

  <script>
    let narx = 0;
    const tarifNarxlar = {
      "Standart": {
        "A4": { "Oq qora": 170, "Rangli": 220, muqova: {"Qattiq muqovali": 40000, "Yumshoq muqovali": 20000, "Oddiy muqovali": 5000, "Muqovasiz": 0} },
        "A5": { "Oq qora": 85,  "Rangli": 110, muqova: {"Qattiq muqovali": 20000, "Yumshoq muqovali": 10000, "Oddiy muqovali": 2000, "Muqovasiz": 0} },
        "B5": { "Oq qora": 170, "Rangli": 220, muqova: {"Qattiq muqovali": 40000, "Yumshoq muqovali": 20000, "Oddiy muqovali": 3000, "Muqovasiz": 0} }
      },
      "Optom": {
        "A4": { "Oq qora": 120, "Rangli": 140, muqova: {"Qattiq muqovali": 40000, "Yumshoq muqovali": 15000, "Oddiy muqovali": 2000, "Muqovasiz": 0} },
        "A5": { "Oq qora": 60,  "Rangli": 70,  muqova: {"Qattiq muqovali": 20000, "Yumshoq muqovali": 10000, "Oddiy muqovali": 1000, "Muqovasiz": 0} },
        "B5": { "Oq qora": 120, "Rangli": 140, muqova: {"Qattiq muqovali": 40000, "Yumshoq muqovali": 15000, "Oddiy muqovali": 2000, "Muqovasiz": 0} }
      },
      "Maxsus": {
        "A4": { "Oq qora": 150, "Rangli": 150, muqova: {"Qattiq muqovali": 40000, "Yumshoq muqovali": 20000, "Oddiy muqovali": 5000, "Muqovasiz": 0} },
        "A5": { "Oq qora": 75,  "Rangli": 75,  muqova: {"Qattiq muqovali": 20000, "Yumshoq muqovali": 10000, "Oddiy muqovali": 2000, "Muqovasiz": 0} },
        "B5": { "Oq qora": 150, "Rangli": 150, muqova: {"Qattiq muqovali": 40000, "Yumshoq muqovali": 20000, "Oddiy muqovali": 3000, "Muqovasiz": 0} }
      }
    };

    function toggleBolim(nom) {
      document.getElementById("kalkulyatorBoâ€˜limi").style.display = nom === 'kalkulyator' ? "block" : "none";
      document.getElementById("excelBoâ€˜limi").style.display = nom === 'excel' ? "block" : "none";
    }

    function korsatmaChiqar() {
      const tarif = document.getElementById('tarif').value;
      const izoh = document.getElementById('izoh');
      if (tarif === "Optom") izoh.innerText = "ðŸ’¡ Minimal buyurtma 100 ta";
      else if (tarif === "Maxsus") izoh.innerText = "ðŸ’¼ Sotuvchilar uchun maxsus";
      else izoh.innerText = "";
    }

    function hisoblaNarx() {
      const tarif = document.getElementById('tarif').value;
      const format = document.getElementById('format').value;
      const muqova = document.getElementById('muqova').value;
      const rang = document.getElementById('rang').value;
      const sahifa = parseInt(document.getElementById('sahifa').value);
      if (!tarif || !format || !muqova || !rang || isNaN(sahifa)) {
        document.getElementById('natija').innerText = "Iltimos, barcha maydonlarni toâ€˜ldiring!";
        return;
      }
      const sahifaNarxi = tarifNarxlar[tarif][format][rang];
      const muqovaNarxi = tarifNarxlar[tarif][format].muqova[muqova];
      narx = sahifa * sahifaNarxi + muqovaNarxi;
      document.getElementById('natija').innerText = `Umumiy narx: ${narx.toLocaleString()} so'm`;
    }

    let rowCounter = 1;
    function excelgaQoshish() {
      const tbody = document.getElementById("excelJadval");
      const tarif = document.getElementById('tarif').value;
      const format = document.getElementById('format').value;
      const muqova = document.getElementById('muqova').value;
      const rang = document.getElementById('rang').value;
      const sahifa = document.getElementById('sahifa').value;
      if (!tarif || !format || !muqova || !rang || !sahifa || !narx) return;
      const tr = document.createElement("tr");
      tr.innerHTML = `
        <td>${rowCounter++}</td>
        <td><input type="text" placeholder="Kitob nomi"></td>
        <td><input type="number" value="1"></td>
        <td>${sahifa}</td>
        <td>${tarif}</td>
        <td>${format}</td>
        <td>${muqova}</td>
        <td>${rang}</td>
        <td>${narx.toLocaleString()}</td>
      `;
      tbody.appendChild(tr);
    }

    window.onload = () => toggleBolim('kalkulyator');
  </script>
</body>
</html>
